# =============================================================================
# Attic Stack - Terraform Variables Example
# =============================================================================
#
# Bates College - Nix Binary Cache Deployment
#
# This file shows example values. For actual deployment:
#   - beehive.tfvars: Development/review environments
#   - rigel.tfvars: Staging/production environments
#
# Most variables are provided via GitLab CI/CD, not tfvars files.
# =============================================================================

# [REQUIRED] GitLab Kubernetes Agent Context
# - beehive (dev/review): bates-ils/projects/kubernetes/gitlab-agents:beehive
# - rigel (staging/prod): bates-ils/projects/kubernetes/gitlab-agents:rigel
cluster_context = "bates-ils/projects/kubernetes/gitlab-agents:beehive"

# Base domain for ingress
# - beehive: beehive.bates.edu
# - rigel: rigel.bates.edu
ingress_domain = "beehive.bates.edu"

# Namespace and environment
namespace   = "attic-cache"
environment = "development"

# =============================================================================
# S3 Storage (Required - Set via CI/CD Variables)
# =============================================================================
# These should be set as CI/CD variables, not in tfvars:
#   S3_ENDPOINT           - S3 endpoint URL
#   S3_ACCESS_KEY_ID      - S3 access key (masked)
#   S3_SECRET_ACCESS_KEY  - S3 secret key (masked)
#   S3_BUCKET_NAME        - S3 bucket name
#
# For local testing only:
# s3_endpoint          = "https://s3.example.com"
# s3_bucket_name       = "attic-cache"
# s3_access_key_id     = ""
# s3_secret_access_key = ""

# =============================================================================
# PostgreSQL (CloudNativePG)
# =============================================================================
use_cnpg_postgres = true
pg_instances      = 1          # 1 for dev, 3 for production HA
pg_storage_size   = "5Gi"      # 5Gi for dev, 10Gi for production
pg_storage_class  = "longhorn"

# =============================================================================
# API Server
# =============================================================================
api_min_replicas = 1  # 1 for dev, 2 for production
api_max_replicas = 3  # 3 for dev, 10 for production

# =============================================================================
# Ingress
# =============================================================================
enable_ingress = true
enable_tls     = true
ingress_class  = "traefik"
